excel.import.directory=./src/main/resources/tmp
spring.resources.static-locations=file:./qubership-atp-tdm-backend/web/
atp-tdm.web.root-page=qubership-atp-tdm-backend/web/index.html
server.port=8080
logging.level.org.qubership.atp.tdm=DEBUG
atp.tdm.url=${ATP_TDM_URL:localhost:8080}
tdm.linker.property.external.url=false
alter.column.mode=hard
project.version=${project.version}

#spring.cache.type=GENERIC - for enabling cache
#spring.cache.type=NONE - for disabling cache
spring.cache.type=${ENVIRONMENTS_SPRING_CACHE_TYPE:GENERIC}
environments.cache.duration=${ENVIRONMENTS_CACHE_DURATIONS:15}
##=====================DB=======================
jdbc.Url=${jdbc.Url}
jdbc.Driver=${jdbc.Driver}
jdbc.User=${jdbc.User}
jdbc.Password=${jdbc.Password}
jdbc.Dialect=${jdbc.Dialect}

##==================Graylog=====================
log.graylog.host=${LOG_GRAYLOG_HOST}
log.graylog.port=${LOG_GRAYLOG_PORT}

##==================Integration with Spring Cloud=====================
spring.application.name=${SERVICE_NAME:atp-tdm}
eureka.client.serviceUrl.defaultZone=${SERVICE_REGISTRY_URL:http://atp-registry-service:8761/eureka}
eureka.client.enabled=${EUREKA_CLIENT_ENABLED:false}
eureka.instance.preferIpAddress=true
atp.service.public=${ATP_SERVICE_PUBLIC:true}
atp.service.path=${ATP_SERVICE_PATH:/api/atp-tdm/v1/**}

##==================Statistics=====================
test.data.initial.threshold=10
mail.sender.statistics.subject=[ATP][TDM][%s] Test Data statistics monitoring
mail.sender.statistics.template=test-data-statistics.ftl
mail.sender.statistics.path=resources/freemarker

##==================Bulk Actions=====================
## Bulk Data Refresh
mail.sender.bulk.refresh.subject=[ATP][TDM] Test Data Bulk Refresh Results [%s]
mail.sender.bulk.refresh.template=bulk-refresh-statistics.ftl
mail.sender.bulk.refresh.path=resources/freemarker
## Bulk Data Cleanup
mail.sender.bulk.cleanup.subject=[ATP][TDM] Test Data Bulk Cleanup Results [%s]
mail.sender.bulk.cleanup.template=bulk-cleanup-statistics.ftl
mail.sender.bulk.cleanup.path=resources/freemarker
## Bulk Data Drop
mail.sender.bulk.drop.subject=[ATP][TDM] Test Data Bulk Drop Results [%s]
mail.sender.bulk.drop.template=bulk-drop-statistics.ftl
mail.sender.bulk.drop.path=resources/freemarker
## Bulk Links Refresh
mail.sender.bulk.links.subject=[ATP][TDM] Test Data Bulk Links Refresh Results [%s]
mail.sender.bulk.links.template=bulk-links-refresh-statistics.ftl
mail.sender.bulk.links.path=resources/freemarker
##==================Quartz======================
#spring.quartz.job-store-type=memory
#org.quartz.enabled=true
#org.quartz.threadPool.threadCount=3
#org.quartz.plugin.shutdownhook.class=org.quartz.plugins.management.ShutdownHookPlugin
#org.quartz.plugin.shutdownhook.cleanShutdown=true

##==================Mail========================
mail.sender.endpoint=/api/v1/mail-sender/mail/send
mail.sender.url=http://qaapp486.some-domain.com
mail.sender.port=8080

##=====================Additional Spring Properties=======================
spring.servlet.multipart.enabled=true
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation = true

##==================Kafka========================
kafka.enable=${KAFKA_ENABLE:false}
kafka.project.topic=${KAFKA_PROJECT_EVENT_CONSUMER_TOPIC_NAME:catalog_notification_topic}
spring.kafka.consumer.bootstrap-servers=${KAFKA_SERVERS:kafka:9092}
spring.kafka.consumer.client-id=${KAFKA_CLIENT_ID:tdm}
spring.kafka.consumer.group-id=${KAFKA_GROUP_ID:tdm}
spring.kafka.consumer.auto-offset-reset=latest
#spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.UUIDDeserializer
#spring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer

##==================atp-auth-spring-boot-starter=====================
spring.profiles.active=${SPRING_PROFILES:disable-security}
spring.cache.cache-names=projects
spring.cache.caffeine.spec=maximumSize=100, expireAfterAccess=120s
spring.main.allow-bean-definition-overriding=true
keycloak.enabled=${KEYCLOAK_ENABLED:false}
keycloak.public-client=true
keycloak.ssl-required=external
keycloak.bearer-only=true
keycloak.cors=true
keycloak.auth-server-url=${KEYCLOAK_AUTH_URL:localhost}
keycloak.realm=${KEYCLOAK_REALM:testRealm}
keycloak.resource=${KEYCLOAK_CLIENT_NAME:testRealm}
keycloak.credentials.secret=${KEYCLOAK_SECRET: 1613fc1b-7380-4f9a-af1c-7e344705f848}

atp-auth.enable-m2m=true
atp-auth.project_info_endpoint=${PROJECT_INFO_ENDPOINT}
atp-auth.policies-path=policies.yaml

##==================Zipkin=====================
spring.sleuth.enabled=${ZIPKIN_ENABLE:false}
spring.sleuth.sampler.probability=${ZIPKIN_PROBABILITY:1.0}
spring.zipkin.baseUrl=${ZIPKIN_URL:http://127.0.0.1:9411}
spring.sleuth.web.additional-skip-pattern=/|/rest/deployment/liveness|/rest/deployment/readiness

##==================Monitoring=====================
management.server.port=${MONITOR_PORT:8090}
management.endpoints.web.exposure.include=${MONITOR_WEB_EXPOSE:prometheus}
management.endpoints.web.base-path=${MONITOR_WEB_BASE:/}
management.endpoints.web.path-mapping.prometheus=${MONITOR_WEB_MAP_PROM:metrics}
management.metrics.tags.application=${spring.application.name}

## ================== Feign ========================
atp.service.internal=${ATP_INTERNAL_GATEWAY_ENABLED:false}
## catalogue
feign.atp.catalogue.url=${FEIGN_ATP_CATALOGUE_URL:}
feign.atp.catalogue.name=${FEIGN_ATP_CATALOGUE_NAME:ATP-CATALOGUE}
feign.atp.catalogue.route=${FEIGN_ATP_CATALOGUE_ROUTE:}
## environments
feign.atp.environments.url=https://environments.atp-cloud.some-domain.com
feign.atp.environments.name=ATP-ENVIRONMENTS
feign.atp.environments.route=${FEIGN_ATP_ENVIRONMENTS_ROUTE:}
## atp-users
feign.atp.users.url=${FEIGN_ATP_USERS_URL:}
feign.atp.users.name=${FEIGN_ATP_USERS_NAME:ATP-USERS-BACKEND}
feign.atp.users.route=${FEIGN_ATP_USERS_ROUTE:}

feign.httpclient.disableSslValidation=true
feign.httpclient.enabled=false
feign.okhttp.enabled=true

feign.client.config.default.connectTimeout=${FEIGN_CONNECT_TIMEOUT:300000}
feign.client.config.default.readTimeout=${FEIGN_READ_TIMEOUT:300000}

##================Audit===========================
atp.audit.logging.enable=${AUDIT_LOGGING_ENABLE:false}
atp.audit.logging.topic.name=${AUDIT_LOGGING_TOPIC_NAME:audit_logging_topic}
atp.audit.logging.topic.partitions=${AUDIT_LOGGING_TOPIC_PARTITIONS:1}
atp.audit.logging.topic.replicas=${AUDIT_LOGGING_TOPIC_REPLICAS:3}
atp.reporting.kafka.producer.bootstrap-server=${KAFKA_REPORTING_SERVERS:kafka:9092}
